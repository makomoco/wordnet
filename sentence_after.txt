0
話題沸騰ポット GOMA 0型 要求仕様書
第0版
胡麻印まほうびん 株 
 
 
本ドキュメントのご利用に際して
本著作物の著作権は作成者または作成者の所属する組織が所有し、著作権法によって保護されています
SESSAMEは本著作物に関して著作者から著作物の利用※を許諾されています本著作物はSESSAMEが利用者個人に対して使用許諾を与え、使用を認めていますSESSAMEから使用許諾を与えられた個人以外の方で本著作物を使用したい場合は
query sessame jpまでお問い合わせください
※SESSAMEが著作者から許諾されている権利著作物の複製・上演・演奏・公衆送信及び送信可能化・口述・展示・上映及び頒布・貸与・翻訳・翻案・二次的著作物の利用
0
 
目次
0 機能要件                                                                                                                                 
0 ハードウェア構成                                                                                                                  
0 操作パネル部                                                                                                                          
0 温度制御方式                                                                                                                          
0 温度制御仕様                                                                                                                         0
0 エラー検知                                                                                                                            0
0 システムとしての動作                                                                                                          0
0 制約事項                                                                                                                                0
0
0
0
0
0
 
0 機能要件
今回設計する沸騰ポットとは、ユーザに以下の機能を提供する家電製品です。
•ポット内の水を沸騰・保温する機能
•ポット内の水を給湯する機能
•ユーザが指定した時間がきたら、ブザーを鳴らして知らせるキッチンタイマ機能
以降の章では、このポットに要求される機能の詳細を説明します。
0
 
0 ハードウェア構成対象とするポットは、以下に示すような外観になっています。
蓋操作パネル
給湯口
取手
貯水部
0
貯水部には断熱性の高いステンレス素材を使用しているため、ポット内の水を保温できるようになっています。その内部は、以下のような構成になっています。
ポンプ
水路
蓋センサ
満水センサ給水線
第0水位センサ第0水位センサ第0水位センサ第0水位センサ
サーミスタヒータ用電源
ヒータ
 
ここで、各用語の意味は次のとおりです。
•満水センサ
水位が、このポットの許容上限を超えていないかどうかを検出します。このセン
サがonの時、水位が許容上限を超えていることになります。
•第n水位センサ
水位を検出します。各センサはonの時、その位置よりも水位が高いことになりま
す。
•蓋センサ
蓋が開いているかどうかを検出します。蓋が閉じている時にonになります。
•サーミスタ
ポット内の水温を検出します。
•ヒータ
ポット内の水を加熱します。
•ヒータ用電源
ヒータへ電力を供給します。通常はonで、ヒータに異常が発生した時にoffにし
て電力を遮断します。
•給水線
ユーザに、このポットに入れることができる水量の上限を知らせるための目印で
す。満水センサの位置よりも若干下にあります。
•ポンプ
ポット内の水を吸い上げて、給湯口から排出します。
•水路
ポンプによって吸い上げられる水の通路です。
0
 
0 操作パネル部ポット上部にある操作パネルは、以下のような構成になっています。
ランプ
温度 モード表示窓
0
沸騰
タイマ分
沸騰保温水位
温度
高温節約ミルク
 0
給湯
解除ロック
保温設定
ランプ
タイマ残り時間表示窓
ここで、各用語の意味は次のとおりです。•タイマボタン
水位メータ
このボタンを押すとタイマが起動し、0回押す毎に0分追加されます。
•タイマ残り時間表示窓
タイムアップまでの残り時間 分単位に切り上げ が表示されます。
•保温設定ボタン
このボタンを押すと、保温モードを高温 0°C保温 、節約 0°C保温 、ミルク 0°C保温 モードに設定します。0回押す毎に高温→節約→ミルク→高温とモードが変わります。
•温度 モード表示窓現在の水温と、設定されている保温モード 図中の  が表示されます。
•解除ボタン給湯口のロック 解除を行います。ロック中は、給湯ボタンを押しても水は出ません。ロック中に押すとロックは解除され、解除されている時に押すと給湯口をロックします。また、給湯中はロックできません。
•ロックランプ給湯口がロックされているかどうかを表わします。給湯口がロックされている時
 
に点灯します。
•給湯ボタン
このボタンを押すと、ポンプを動作させて給湯口から水を排出します。押してい
る間中は給湯を行い、ボタンから手を離すと給湯を停止します。
•沸騰ボタン
このボタンを押すと、ポット内の水を沸騰させてカルキ抜きを行います。沸騰中に押すと、沸騰を中止して保温状態になります。0回押す毎に沸騰→保温→沸騰と変わります。
•沸騰ランプ水を沸かしている時に点灯します。沸騰が終了すると消灯します。
•保温ランプ沸騰中でない時に点灯します。ユーザの沸騰ボタン押下等で水を沸かし始めた時に消灯します。
•水位メータポット内の水位を表示します。
水位メータと各水位センサの関係は以下のとおりです。
水位メータ
第0水位センサに対応
第0水位センサに対応第0水位センサに対応第0水位センサに対応
0
インジケータセル
水位メータは複数のインジケータセルと呼ばれるランプにより構成され、水位センサの数と同数のセルにより構成されます。水位センサがon状態の時 水があると検出された時 、対応するインジケータセルが点灯します。この例では、第0水位センサと第0水位センサがon状態であることを示しています。すなわち、水位は第0水位センサと第0水位センサの間にあることになります。
 
0 温度制御方式
本ポットでは、ヒータのon offにより水温を制御します。その制御方式は、以下のように制御周期と操作量   により行われます。下図のように、ヒータがonで操作量が0 の時、制御周期の0 の時間だけヒータがon状態になります。
0  0  0  0 
制御周期
0 
0
 on
off
時間
上記の操作量を決定する方式としては、以下の0つがあります。
 0  PID制御方式
この方式では、水の温度特性により決定される比例係数Kp、微分係数Kd、積分係数Kiを使って、以下の式で時間t0における操作量M   が計算されます。
目標温度Tg
⊿T0
制御周期
E0
T0 T0
T0
t0
時間
M E0    Kp E0   Ki∫E0dt   Kd dE0 dt水温 °C 
この数式を展開すると、前回の操作量M0と今回の操作量M0の差⊿M   は、⊿M M0  M0 Kp  T0  T0  Ki  Tg  T0  Kd  0T0  T0  T0 
で表わされるので、今回の操作量M0は、
 
となります。
M0   M0   ⊿M  ただし、0≦M0≦0  
 0 温度制御テーブル方式
この方式では、PID制御方式の図のE0と⊿T0に対してあらかじめ決められた操作量をテーブルとして保存しておき、操作量決定時にこのテーブルを参照して操作量を求めます。
0
 E0 °C 
  0 ≧ 0  0 ≦0  0
 ⊿T0 °C    0 ≧ 0
 0 ≦0  0
0
0 0 0 0
0 0 0 0
0 0 0 0
0 0 0 0
0 0 0 0
 0
 0
0
 0
  0 目標温度ON OFF方式
温度上昇中に目標温度に達したらヒータをoff、温度下降中に目標温度に達したらヒータをonします。操作量はヒータon時は0 、ヒータoff時は0 となります。
目標温度
水温 °C 
時間
 off on
off on
 
また、目標温度を境にヒステリシスをもたせる方法もあります。この場合、目標温度 αの温度T0と、目標温度 αの温度T0を設定し、温度上昇中にT0に達したらヒータをoff、温度下降中にT0に達したらヒータをonします。操作量はヒータon時は0 、ヒータoff時は0 となります。
水温 °C 
T0 T0
目標温度
時間
0
 off on off on
 
0 温度制御仕様本ポットでは水温を制御するため、以下の仕様に従ってヒータを制御します。
 0 蓋が閉じられた場合温度制御可能な水位ならば沸騰状態に移行し、ポット内の水を加熱します。水温が0°Cに達した後も0分間加熱を続け、その後保温状態に移行します。この場合、温度制御の操作量算出には目標温度ON OFF方式 ヒステリシスなし を適用します。
水温 °C  0
0分
0
時間
  0 沸騰状態が終了した場合 高温モードが設定されている場合 
この場合、水温を0°Cに保つようにヒータを制御します。温度制御の操作量算出にはPID制御方式を適用します。
水温 °C 
0 0
  0 沸騰状態が終了した場合 節約モードが設定されている場合 
この場合、水温を0°Cに保つようにヒータを制御します。温度制御の操作量算出にはPID制御方式を適用します。
時間
 
水温 °C 
0 0
0
  0 沸騰状態が終了した場合 ミルクモードが設定されている場合 
この場合、水温を0°Cに保つようにヒータを制御します。温度制御の操作量算出にはPID制御方式を適用します。
水温 °C  0
0
 0 沸騰ボタン押下により、強制沸騰する場合 0 の制御仕様と同様です。
時間
時間
  0 保温設定ボタンにより、保温モードを変更した場合移行した保温モードの制御仕様  0 、 0 、 0  に従い、目標温度に水温を保つようにヒータを制御します。
※仕様毎の温度制御の操作量算出方法は、機種によって変わる場合があります。
 
0 エラー検知
この沸騰ポットでは、ヒータが故障 誤動作した場合のエラーを検知します。これは、ヒータの異常過熱による火災等の危険を回避するためです。サーミスタの故障による異常過熱が発生した場合は、ソフトウェアではエラーを検知できないため、ハードウェア的に断線することにより安全を確保するようになっています。水位センサ、蓋センサ、及びポンプの故障 誤動作については、今回の設計では扱わないものとします。エラーの種類としては以下のように分類することができます。
 0 高温エラー
これは、ヒータが停止できなくなった場合に発生します。水温が0°Cを超えた場合、ヒータ用電源をoffして0秒間ブザーを鳴らします。
水温 °C 
0
高温エラー検知
0
時間
  0 温度上がらずエラーこれは、ヒータが動作しなくなった場合や、ヒータの動作が不安定になった場合に発生します。ヒータ制御中に一定周期で水温を検出し、目標温度よりも水温が0°C下がり、かつ前回検出した水温よりも今回検出した水温の方が低い場合、ヒータ用電源をoffして0秒間ブザーを鳴らします。水温検出周期は0分とします。以下の最初の例では、目標温度よりも0°C水温が低いですが、今回検出温度 前回検出温度なのでエラーとはなりません。0番目の例では、目標温度よりも0°C水温が低く、今回検出温度 前回検出温度なので温度上がらずエラーとなります。
 
水温 °C 目標温度
0°C
今回検出温度
前回検出温度
時間
0
  b 温度上がらずエラーでない例
水温 °C 
目標温度
0分
前回検出温度
今回検出温度 エラー検知 
0°C
時間
  c 温度上がらずエラーが検知される例
0分
 
0 システムとしての動作
システム全体として、以下の動作仕様を満たさなければなりません。
•第n水位センサがonで、かつ満水センサがoffの場合、温度制御が可能になりま
す。それ以外の場合は、沸騰ボタン・ヒータは動作しません。
•蓋が開けられると、ヒータは停止します。沸騰ボタンは動作しません。
•ヒータが動作していないときは、沸騰ランプ及び保温ランプは消灯します。
•保温モードに設定した際、0°Cでなかった場合は、必ず一度沸騰させた後、自然
に冷やしながら設定温度に保つ動作をします。
•タイマは最大0時間まで設定できます。
•ユーザからボタン タイマ・保温設定・沸騰・解除・給湯の0つ が押された時、
ブザーを0回鳴らします。しかし、上記0つの制約時には、沸騰ボタンが押され
てもブザーを鳴らさないこととします。
•ユーザが設定したタイマのタイムアウト時、及び沸騰状態終了時には、ブザーを
0回鳴らします。
0
 
0 制約事項
制約事項は以下のとおりです。
•T B D 
 ハードウェアの要件が確定していないのでT B D としています。本要求仕様書を教育用資料として利用される環境で、適宜、制約を設定していただいて結構です。 
0
 
発行履歴 
話題沸騰ポット GOMA 0型 要求仕様書0年0月0日初版発行
 0年0月0日第0版発行
 0年0月0日第0版発行
 0年0月0日第0版発行
 0年0月0日第0版発行
 0年0月0日第0版発行
0
